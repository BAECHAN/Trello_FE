(this["webpackJsonptrello-study"]=this["webpackJsonptrello-study"]||[]).push([[0],{102:function(t,e,n){},177:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n.n(i),o=n(15),a=n.n(o),r=n(38),s=n(31),d=n(17),l=[];var u=Object(r.c)({reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;if("getList"===e.type){var n=Object(d.a)(t);return n=e.payload,console.log("-----------------"),console.log(n),n}if("addList"===e.type){var i=Object(d.a)(t);return i.push(e.payload),i}if("modListTitle"===e.type){var c=Object(d.a)(t);return c.forEach((function(t){t.workListId===e.payload.workListId&&(t.workListTitle=e.payload.workListTitle)})),c}if("addCard"===e.type){var o=Object(d.a)(t);return o.forEach((function(t){t.workListId===e.payload.workListId&&t.cardList.push(e.payload)})),o}if("modCardTitle"===e.type){var a=Object(d.a)(t);return a.forEach((function(t){t.workListId===e.payload[0].workListId&&t.cardList.forEach((function(t){t.cardId===e.payload[0].cardId&&(t.cardTitle=e.payload[1])}))})),a}if("swapList"===e.type){var r=Object(d.a)(t),s=[r[e.payload[1]],r[e.payload[0]]];return r[e.payload[0]]=s[0],r[e.payload[1]]=s[1],r}if("copyList"===e.type){var u=Object(d.a)(t);return console.log(u),u.push(e.payload),u.sort((function(t,e){return t.workListOrd-e.workListOrd})),console.log(u),u}if("moveList"===e.type){var j=Object(d.a)(t);return j[e.payload[0]].workListOrd=e.payload[1],j.sort((function(t,e){return t.workListOrd-e.workListOrd})),console.log(j),j}return t}}),j=(n(102),n(25)),p=n(7),b=n(73),h=n(125),O=n(35),x=n.n(O),f=n(220),g=n(223),y=n(120),v=n.n(y),m=n(13),L=n(227),k=n(230),C=n(232),w=n(233),I=n(228),T=n(65),N=n.n(T),S=n(1),D={card:{marginTop:"8px",marginBottom:"8px",whiteSpace:"normal"}},B=Object(m.a)(L.a)((function(t){var e=t.theme;return{"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}})),E=function(t){var e=t.children,n=t.onClose,i=Object(h.a)(t,["children","onClose"]);return Object(S.jsxs)(k.a,Object(j.a)(Object(j.a)({sx:{m:0,p:2}},i),{},{children:[e,n?Object(S.jsx)(I.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(t){return t.palette.grey[500]}},children:Object(S.jsx)(N.a,{})}):null]}))},P=function(t){var e=Object(i.useState)(!1),n=Object(p.a)(e,2),o=n[0],a=n[1],r=Object(i.useState)(t.cardInfo.cardTitle),d=Object(p.a)(r,2),l=d[0],u=d[1],j=Object(i.useState)(!1),b=Object(p.a)(j,2),h=b[0],O=b[1],y=Object(s.c)(),m=c.a.useState(!1),L=Object(p.a)(m,2),k=L[0],I=L[1],T=function(){I(!1)},N=Object(i.useState)(!1),P=Object(p.a)(N,2),A=P[0],M=P[1],F=Object(i.useState)(!1),H=Object(p.a)(F,2),R=H[0],z=H[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:!1===h?Object(S.jsxs)(f.a,{style:D.card,onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onClick:function(){I(!0)},children:[Object(S.jsx)(g.a,{gutterBottom:!0,style:{display:"inline"},children:t.cardInfo.cardTitle}),!0===o&&Object(S.jsx)(v.a,{style:{float:"right",color:"#bbb"},onClick:function(t){O(!0),t.stopPropagation()}})]}):Object(S.jsxs)("div",{className:"addCardInput",children:[Object(S.jsx)("textarea",{onChange:function(t){u(t.target.value)},value:l,autoFocus:!0,onFocus:function(t){return t.currentTarget.select()}}),Object(S.jsx)("button",{onClick:function(){console.log(l),O(!1),l!==t.cardInfo.cardTitle&&(console.log("\uce74\ub4dc \ud0c0\uc774\ud2c0 \uc218\uc815 dispatch \ubc1c\uc0dd"),x.a.put("https://43.200.85.188:8080/card/"+t.cardInfo.cardId,{cardTitle:l},{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?y({type:"modCardTitle",payload:[t.cardInfo,l]}):console.log(e)})))},children:"Save"}),Object(S.jsx)("button",{onClick:function(){O(!1),u(t.cardInfo.cardTitle)},children:"Close"})]})}),Object(S.jsxs)(B,{onClose:T,"aria-labelledby":"customized-dialog-title",open:k,fullWidth:!0,maxWidth:"md",children:[Object(S.jsx)(E,{id:"customized-dialog-title",onClose:T,children:l}),Object(S.jsx)(C.a,{dividers:!0,className:"dialogContent",children:Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"flex-container",children:[Object(S.jsx)("h3",{children:"Discription"}),!1===A?Object(S.jsx)("button",{style:{margin:"15px 5px"},onClick:function(){return M(!0)},children:"Edit"}):""]}),Object(S.jsx)("div",{children:!1===A?Object(S.jsx)("div",{className:"dialog-description-view",onClick:function(){return M(!0)},children:"Add a more detailed description..."}):Object(S.jsxs)("div",{children:[Object(S.jsx)("textarea",{className:"dialog-description-textarea",placeholder:"Add a more detailed description...",autoFocus:!0,onBlur:function(){return M(!1)}}),Object(S.jsx)("button",{children:"Save"})]})})]})}),Object(S.jsx)(C.a,{dividers:!0,className:"dialogContent",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"flex-container",children:Object(S.jsx)("h3",{children:"Activity"})}),Object(S.jsx)("div",{className:"dialog-activity-box",children:Object(S.jsx)("textarea",{className:"dialog-activity-textarea",placeholder:"Write a comment...",onInput:function(t){var e;""!==(e=t).currentTarget.value?z(!0):z(!1),e.currentTarget.style.height=e.currentTarget.scrollHeight+"px",e.currentTarget.parentElement.style.height=e.currentTarget.scrollHeight+"px"}})}),!0===R?Object(S.jsx)("button",{children:"Save"}):Object(S.jsx)("button",{disabled:!0,style:{opacity:"0.5",cursor:"not-allowed"},children:"Save"})]})}),Object(S.jsx)(w.a,{})]})]})},A=n(122),M=n.n(A),F=n(229),H=n(48),R={container:{backgroundColor:"#ccc",borderRadius:3,width:250,padding:8,margin:8,display:"inline-block",verticalAlign:"top",cursor:"pointer"},list:{marginTop:"8px",marginBottom:"8px",clear:"both"},menuIcon:{float:"right",color:"#000",opacity:"0.5"},containerHeader:{float:"left",width:"85%"},popupContainer:{zIndex:"1",width:"200px",height:"300px",backgroundColor:"#eee",borderRadius:"3px",padding:"3px"},popupHeader:{textAlign:"center",borderBottom:"1px solid #ccc",padding:"10px"},popupBody:{borderBottom:"1px solid #ccc",padding:"10px"},selectBox:{width:"85px",height:"25px"}},z=function(t){var e=Object(i.useState)(!1),n=Object(p.a)(e,2),o=n[0],a=n[1],r=Object(i.useState)(""),d=Object(p.a)(r,2),l=d[0],u=d[1],b=Object(i.useState)(!1),h=Object(p.a)(b,2),O=h[0],f=h[1],g=Object(i.useState)(t.reducerData.workListTitle),y=Object(p.a)(g,2),v=y[0],m=y[1],L=Object(i.useState)(!1),k=Object(p.a)(L,2),C=k[0],w=k[1],I=Object(i.useState)(null),T=Object(p.a)(I,2),D=T[0],B=T[1],E=function(){B(null)},A=Boolean(D),z=A?"simple-popover":void 0,J=Object(s.c)(),Q=function(e){if("list"===e)f(!1),v!==t.reducerData.workListTitle&&x.a.put("https://43.200.85.188:8080/list/"+t.reducerData.workListId,{workListTitle:v},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&J({type:"modListTitle",payload:t.data})})).catch((function(t){console.log(t.response)}));else if("card"===e){if(""===l)return!1;a(!1),x.a.post("https://43.200.85.188:8080/card",{cardTitle:l,workListId:t.reducerData.workListId},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&J({type:"addCard",payload:t.data})})).catch((function(t){console.log(t.response)}))}};return Object(i.useEffect)((function(){m(t.reducerData.workListTitle)}),[t.reducerData]),Object(S.jsxs)("div",{style:R.container,children:[!1===O?Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:R.containerHeader,onClick:function(){return f(!0)},children:Object(S.jsx)("b",{children:t.reducerData.workListTitle})}),Object(S.jsx)(M.a,{className:"menuIcon",style:R.menuIcon,"aria-describedby":z,variant:"contained",onClick:function(t){B(t.currentTarget)}}),Object(S.jsx)(F.a,{id:z,open:A,anchorEl:D,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:!1===C?Object(S.jsxs)("div",{style:R.popupContainer,children:[Object(S.jsxs)("div",{style:R.popupHeader,children:["List actions",Object(S.jsx)(N.a,{onClick:E,style:{float:"right",cursor:"pointer"}})]}),Object(S.jsx)("div",{style:R.popupBody,className:"popupBody",children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{onClick:function(){a(!0),E()},children:"Add card..."}),Object(S.jsx)("li",{onClick:function(){!function(){console.log(t);var e=0;e=t.index===t.totalList.length-1?t.reducerData.workListOrd+1e3:Math.floor((t.reducerData.workListOrd+t.totalList[t.index+1].workListOrd)/2),x.a.post("https://43.200.85.188:8080/list/copy/"+t.reducerData.workListId,e,{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&(e.data.cardList=JSON.parse(JSON.stringify(t.reducerData.cardList)),e.data.cardList.forEach((function(t){t.workListId=e.data.workListId})),J({type:"copyList",payload:e.data}))})).catch((function(t){alert("\ub9ac\uc2a4\ud2b8 \ubcf5\uc0ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),console.log(t.response)}))}(),E()},children:"Copy list..."}),Object(S.jsx)("li",{onClick:function(){w(!0)},children:"Move list..."})]})})]}):Object(S.jsxs)("div",{style:R.popupContainer,children:[Object(S.jsxs)("div",{style:R.popupHeader,children:["Move list",Object(S.jsx)(N.a,{onClick:function(){E(),setTimeout((function(){w(!1)}),500)},style:{float:"right",cursor:"pointer"}})]}),Object(S.jsxs)("div",{style:R.popupBody,className:"popupBody",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)("div",{children:"Position"}),Object(S.jsx)("div",{style:{flexGrow:"2"}}),Object(S.jsx)("select",{id:"selectPosition",style:R.selectBox,children:t.totalList.map((function(t,e){return Object(S.jsx)(c.a.Fragment,{children:Object(S.jsx)("option",{children:e+1})},e)}))})]}),Object(S.jsx)("button",{onClick:function(){!function(){var e=t.index,n=Number(document.getElementById("selectPosition").value-1);x.a.put("https://43.200.85.188:8080/list/swap/",{workListId1:t.totalList[e].workListId,workListId2:t.totalList[n].workListId},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&J({type:"swapList",payload:[e,n]})})).catch((function(t){alert("\ub9ac\uc2a4\ud2b8 \uc2a4\uc651\uc774 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),console.log(t.response)}))}(),E(),setTimeout((function(){w(!1)}),500)},children:"Move"})]})]})})]}):Object(S.jsx)("textarea",{className:"listTitleTextarea",value:v,onChange:function(t){return m(t.target.value)},onBlur:function(){return Q("list")},autoFocus:!0,onFocus:function(t){return t.currentTarget.select()}}),Object(S.jsx)("div",{style:R.list,children:t.reducerData.cardList&&t.reducerData.cardList.map((function(t,e){return Object(S.jsx)(H.b,{draggableId:"card"+e,index:e,children:function(e,n){return Object(S.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({ref:e.innerRef},e.dragHandleProps),e.draggableProps),{},{children:Object(S.jsx)(P,{cardInfo:t})}))}},e)}))}),!1===o?Object(S.jsx)("div",{className:"addCard",onClick:function(){a(!0)},children:"+ Add a card"}):Object(S.jsxs)("div",{className:"addCardInput",children:[Object(S.jsx)("textarea",{onChange:function(t){return u(t.target.value)},placeholder:"Enter a title for this card\u2026"}),Object(S.jsx)("button",{onClick:function(){return Q("card")},children:"Add Card"}),Object(S.jsx)("button",{onClick:function(){a(!1)},children:"Close"})]})]})};var J=function(){var t=Object(s.d)((function(t){return t.reducer})),e=Object(i.useState)(!1),n=Object(p.a)(e,2),c=n[0],o=n[1],a=Object(i.useState)(""),r=Object(p.a)(a,2),d=r[0],l=r[1],u=Object(s.c)();return Object(i.useEffect)((function(){x.a.get("https://43.200.85.188:8080/list").then((function(t){console.log(t.status);var e=t.data;u({type:"getList",payload:e})}))}),[]),Object(S.jsxs)("div",{className:"app",style:{whiteSpace:"nowrap"},children:[Object(S.jsx)("header",{}),Object(S.jsxs)("div",{className:"contents",children:[Object(S.jsx)(H.a,{onDragEnd:function(e){if(!e.destination)return!1;var n=0;if(console.log(e),e.destination.index===t.length-1)n=t[e.destination.index].workListOrd+1e3;else if(0===e.destination.index)n=Math.floor(t[0].workListOrd/2);else if(e.source.index<e.destination.index)n=Math.floor((t[e.destination.index].workListOrd+t[e.destination.index+1].workListOrd)/2);else{if(!(e.source.index>e.destination.index))return!1;n=Math.floor((t[e.destination.index-1].workListOrd+t[e.destination.index].workListOrd)/2)}x.a.put("https://43.200.85.188:8080/list/move/"+t[e.source.index].workListId,n,{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status?u({type:"moveList",payload:[e.source.index,n]}):console.log(t.status)})).catch((function(t){console.log("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.",t.response)}))},children:Object(S.jsx)(H.c,{droppableId:"contents-list",direction:"horizontal",children:function(e){return Object(S.jsxs)("div",Object(j.a)(Object(j.a)({className:"contents-list"},e.droppableProps),{},{ref:e.innerRef,children:[t.map((function(e,n){return Object(S.jsx)(H.b,{draggableId:"list"+n,index:n,children:function(e,i){return Object(S.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"drag-item",ref:e.innerRef},e.dragHandleProps),e.draggableProps),{},{style:(c=i.isDragging,o=e.draggableProps.style,Object(j.a)({verticalAlign:"top",background:c?"blue":"none",borderRadius:3},o)),children:Object(S.jsx)(H.a,{children:Object(S.jsx)(H.c,{droppableId:"contents-card",children:function(e){return Object(S.jsxs)("div",Object(j.a)(Object(j.a)({className:"contents-card"},e.droppableProps),{},{ref:e.innerRef,children:[Object(S.jsx)(z,{reducerData:t[n],index:n,totalList:t}),e.placeholder]}))}})})}));var c,o}},n)})),e.placeholder]}))}})}),!1===c?Object(S.jsx)("div",{className:"addList",onClick:function(){o(!0)},children:"+ Add another list"}):Object(S.jsxs)("div",{className:"addListInput",children:[Object(S.jsx)("input",{type:"text",onChange:function(t){return l(t.target.value)},placeholder:"Enter list title..."}),Object(S.jsx)("button",{onClick:function(){if(""===d)return!1;x.a.post("https://43.200.85.188:8080/list",{workListTitle:encodeURIComponent(d)},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&u({type:"addList",payload:t.data})})),o(!1),l(""),setTimeout((function(){window.scrollTo(5e4,0)}),0)},children:"Add list"}),Object(S.jsx)("button",{onClick:function(){o(!1),l("")},children:"Close"})]})]})]})},Q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),o(t),a(t)}))},W=n(123),q=new b.QueryClient({defaultOptions:{queries:{refetchInterval:3e3}}}),G=Object(r.e)(u);a.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsxs)(b.QueryClientProvider,{client:q,children:[Object(S.jsx)(W.ReactQueryDevtools,{initialIsOpen:!0}),Object(S.jsx)(s.a,{store:G,children:Object(S.jsx)(J,{})})]})}),document.getElementById("root")),Q()}},[[177,1,2]]]);
//# sourceMappingURL=main.c62e60d4.chunk.js.map