(this["webpackJsonptrello-study"]=this["webpackJsonptrello-study"]||[]).push([[0],{110:function(t,e,n){},177:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c),a=n(15),o=n.n(a),r=n(38),s=n(31),d=n(17),l=n(35),u=n.n(l),j=[];var p=Object(r.c)({reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;if("getList"===e.type){var n=Object(d.a)(t);return n=e.payload,console.log("-----------------"),console.log(n),n}if("addList"===e.type){var c=Object(d.a)(t);return c.push(e.payload),c}if("modListTitle"===e.type){var i=Object(d.a)(t);return i.forEach((function(t){t.workListId===e.payload.workListId&&(t.workListTitle=e.payload.workListTitle)})),i}if("addCard"===e.type){var a=Object(d.a)(t);return a.forEach((function(t){t.workListId===e.payload.workListId&&t.cardList.push(e.payload)})),a}if("modCardTitle"===e.type){var o=Object(d.a)(t);return o.forEach((function(t){t.workListId===e.payload[0].workListId&&t.cardList.forEach((function(t){t.cardId===e.payload[0].cardId&&(t.cardTitle=e.payload[1])}))})),o}if("moveList"===e.type){var r=Object(d.a)(t),s=[r[e.payload[1]],r[e.payload[0]]];return r[e.payload[0]]=s[0],r[e.payload[1]]=s[1],r}if("copyList"===e.type){var l=Object(d.a)(t);return console.log(l),l.push(e.payload),l.sort((function(t,e){return t.workListOrd-e.workListOrd})),console.log(l),l}if("dragList"===e.type){var u=Object(d.a)(t);return u[e.payload[0]].workListOrd=e.payload[1],u.sort((function(t,e){return t.workListOrd-e.workListOrd})),console.log(u),u}return t}}),b=(n(110),n(25)),O=n(7),h=n(73),x=n(125),f=n(220),g=n(223),y=n(120),v=n.n(y),m=n(13),L=n(227),k=n(230),C=n(232),w=n(233),T=n(228),I=n(65),N=n.n(I),S=n(1),D={card:{marginTop:"8px",marginBottom:"8px",whiteSpace:"normal"}},B=Object(m.a)(L.a)((function(t){var e=t.theme;return{"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}}})),E=function(t){var e=t.children,n=t.onClose,c=Object(x.a)(t,["children","onClose"]);return Object(S.jsxs)(k.a,Object(b.a)(Object(b.a)({sx:{m:0,p:2}},c),{},{children:[e,n?Object(S.jsx)(T.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(t){return t.palette.grey[500]}},children:Object(S.jsx)(N.a,{})}):null]}))},P=function(t){var e=Object(c.useState)(!1),n=Object(O.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)(t.cardInfo.cardTitle),d=Object(O.a)(r,2),l=d[0],j=d[1],p=Object(c.useState)(!1),b=Object(O.a)(p,2),h=b[0],x=b[1],y=Object(s.c)(),m=i.a.useState(!1),L=Object(O.a)(m,2),k=L[0],T=L[1],I=function(){T(!1)},N=Object(c.useState)(!1),P=Object(O.a)(N,2),A=P[0],M=P[1],F=Object(c.useState)(!1),H=Object(O.a)(F,2),R=H[0],z=H[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:!1===h?Object(S.jsxs)(f.a,{style:D.card,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},onClick:function(){T(!0)},children:[Object(S.jsx)(g.a,{gutterBottom:!0,style:{display:"inline"},children:t.cardInfo.cardTitle}),!0===a&&Object(S.jsx)(v.a,{style:{float:"right",color:"#bbb"},onClick:function(t){x(!0),t.stopPropagation()}})]}):Object(S.jsxs)("div",{className:"addCardInput",children:[Object(S.jsx)("textarea",{onChange:function(t){j(t.target.value)},value:l,autoFocus:!0,onFocus:function(t){return t.currentTarget.select()}}),Object(S.jsx)("button",{onClick:function(){console.log(l),x(!1),l!==t.cardInfo.cardTitle&&(console.log("\uce74\ub4dc \ud0c0\uc774\ud2c0 \uc218\uc815 dispatch \ubc1c\uc0dd"),u.a.put("https://43.200.85.188:8080/card/"+t.cardInfo.cardId,{cardTitle:l},{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?y({type:"modCardTitle",payload:[t.cardInfo,l]}):console.log(e)})))},children:"Save"}),Object(S.jsx)("button",{onClick:function(){x(!1),j(t.cardInfo.cardTitle)},children:"Close"})]})}),Object(S.jsxs)(B,{onClose:I,"aria-labelledby":"customized-dialog-title",open:k,fullWidth:!0,maxWidth:"md",children:[Object(S.jsx)(E,{id:"customized-dialog-title",onClose:I,children:l}),Object(S.jsx)(C.a,{dividers:!0,className:"dialogContent",children:Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"flex-container",children:[Object(S.jsx)("h3",{children:"Discription"}),!1===A?Object(S.jsx)("button",{style:{margin:"15px 5px"},onClick:function(){return M(!0)},children:"Edit"}):""]}),Object(S.jsx)("div",{children:!1===A?Object(S.jsx)("div",{className:"dialog-description-view",onClick:function(){return M(!0)},children:"Add a more detailed description..."}):Object(S.jsxs)("div",{children:[Object(S.jsx)("textarea",{className:"dialog-description-textarea",placeholder:"Add a more detailed description...",autoFocus:!0,onBlur:function(){return M(!1)}}),Object(S.jsx)("button",{children:"Save"})]})})]})}),Object(S.jsx)(C.a,{dividers:!0,className:"dialogContent",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"flex-container",children:Object(S.jsx)("h3",{children:"Activity"})}),Object(S.jsx)("div",{className:"dialog-activity-box",children:Object(S.jsx)("textarea",{className:"dialog-activity-textarea",placeholder:"Write a comment...",onInput:function(t){var e;""!==(e=t).currentTarget.value?z(!0):z(!1),e.currentTarget.style.height=e.currentTarget.scrollHeight+"px",e.currentTarget.parentElement.style.height=e.currentTarget.scrollHeight+"px"}})}),!0===R?Object(S.jsx)("button",{children:"Save"}):Object(S.jsx)("button",{disabled:!0,style:{opacity:"0.5",cursor:"not-allowed"},children:"Save"})]})}),Object(S.jsx)(w.a,{})]})]})},A=n(122),M=n.n(A),F=n(229),H=n(48),R={container:{backgroundColor:"#ccc",borderRadius:3,width:250,padding:8,margin:8,display:"inline-block",verticalAlign:"top",cursor:"pointer"},list:{marginTop:"8px",marginBottom:"8px",clear:"both"},menuIcon:{float:"right",color:"#000",opacity:"0.5"},containerHeader:{float:"left",width:"85%"},popupContainer:{zIndex:"1",width:"200px",height:"300px",backgroundColor:"#eee",borderRadius:"3px",padding:"3px"},popupHeader:{textAlign:"center",borderBottom:"1px solid #ccc",padding:"10px"},popupBody:{borderBottom:"1px solid #ccc",padding:"10px"},selectBox:{width:"85px",height:"25px"}},z=function(t){var e=Object(c.useState)(!1),n=Object(O.a)(e,2),a=n[0],o=n[1],r=Object(c.useState)(""),d=Object(O.a)(r,2),l=d[0],j=d[1],p=Object(c.useState)(!1),h=Object(O.a)(p,2),x=h[0],f=h[1],g=Object(c.useState)(t.reducerData.workListTitle),y=Object(O.a)(g,2),v=y[0],m=y[1],L=Object(c.useState)(!1),k=Object(O.a)(L,2),C=k[0],w=k[1],T=Object(c.useState)(null),I=Object(O.a)(T,2),D=I[0],B=I[1],E=function(){B(null)},A=Boolean(D),z=A?"simple-popover":void 0,J=Object(s.c)(),Q=function(e){if("list"===e)f(!1),v!==t.reducerData.workListTitle&&u.a.put("https://43.200.85.188:8080/list/"+t.reducerData.workListId,{workListTitle:v},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&J({type:"modListTitle",payload:t.data})})).catch((function(t){console.log(t.response)}));else if("card"===e){if(""===l)return!1;o(!1),u.a.post("https://43.200.85.188:8080/card",{cardTitle:l,workListId:t.reducerData.workListId},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&J({type:"addCard",payload:t.data})})).catch((function(t){console.log(t.response)}))}};return Object(c.useEffect)((function(){m(t.reducerData.workListTitle)}),[t.reducerData]),Object(S.jsxs)("div",{style:R.container,children:[!1===x?Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:R.containerHeader,onClick:function(){return f(!0)},children:Object(S.jsx)("b",{children:t.reducerData.workListTitle})}),Object(S.jsx)(M.a,{className:"menuIcon",style:R.menuIcon,"aria-describedby":z,variant:"contained",onClick:function(t){B(t.currentTarget)}}),Object(S.jsx)(F.a,{id:z,open:A,anchorEl:D,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:!1===C?Object(S.jsxs)("div",{style:R.popupContainer,children:[Object(S.jsxs)("div",{style:R.popupHeader,children:["List actions",Object(S.jsx)(N.a,{onClick:E,style:{float:"right",cursor:"pointer"}})]}),Object(S.jsx)("div",{style:R.popupBody,className:"popupBody",children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{onClick:function(){o(!0),E()},children:"Add card..."}),Object(S.jsx)("li",{onClick:function(){!function(){console.log(t);var e=0;e=t.index===t.totalList.length-1?t.reducerData.workListOrd+1e3:Math.floor((t.reducerData.workListOrd+t.totalList[t.index+1].workListOrd)/2),u.a.post("https://43.200.85.188:8080/list/copy/"+t.reducerData.workListId,e,{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&(e.data.cardList=JSON.parse(JSON.stringify(t.reducerData.cardList)),e.data.cardList.forEach((function(t){t.workListId=e.data.workListId})),J({type:"copyList",payload:e.data}))})).catch((function(t){alert("\ub9ac\uc2a4\ud2b8 \ubcf5\uc0ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),console.log(t.response)}))}(),E()},children:"Copy list..."}),Object(S.jsx)("li",{onClick:function(){w(!0)},children:"Move list..."})]})})]}):Object(S.jsxs)("div",{style:R.popupContainer,children:[Object(S.jsxs)("div",{style:R.popupHeader,children:["Move list",Object(S.jsx)(N.a,{onClick:function(){E(),setTimeout((function(){w(!1)}),500)},style:{float:"right",cursor:"pointer"}})]}),Object(S.jsxs)("div",{style:R.popupBody,className:"popupBody",children:[Object(S.jsxs)("div",{style:{display:"flex"},children:[Object(S.jsx)("div",{children:"Position"}),Object(S.jsx)("div",{style:{flexGrow:"2"}}),Object(S.jsx)("select",{id:"selectPosition",style:R.selectBox,children:t.totalList.map((function(t,e){return Object(S.jsx)(i.a.Fragment,{children:Object(S.jsx)("option",{children:e+1})},e)}))})]}),Object(S.jsx)("button",{onClick:function(){J({type:"moveList",payload:[t.index,Number(document.getElementById("selectPosition").value-1)]}),E(),setTimeout((function(){w(!1)}),500)},children:"Move"})]})]})})]}):Object(S.jsx)("textarea",{className:"listTitleTextarea",value:v,onChange:function(t){return m(t.target.value)},onBlur:function(){return Q("list")},autoFocus:!0,onFocus:function(t){return t.currentTarget.select()}}),Object(S.jsx)("div",{style:R.list,children:t.reducerData.cardList&&t.reducerData.cardList.map((function(t,e){return Object(S.jsx)(H.b,{draggableId:"card"+e,index:e,children:function(e,n){return Object(S.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({ref:e.innerRef},e.dragHandleProps),e.draggableProps),{},{children:Object(S.jsx)(P,{cardInfo:t})}))}},e)}))}),!1===a?Object(S.jsx)("div",{className:"addCard",onClick:function(){o(!0)},children:"+ Add a card"}):Object(S.jsxs)("div",{className:"addCardInput",children:[Object(S.jsx)("textarea",{onChange:function(t){return j(t.target.value)},placeholder:"Enter a title for this card\u2026"}),Object(S.jsx)("button",{onClick:function(){return Q("card")},children:"Add Card"}),Object(S.jsx)("button",{onClick:function(){o(!1)},children:"Close"})]})]})};var J=function(){var t=Object(s.d)((function(t){return t.reducer})),e=Object(c.useState)(!1),n=Object(O.a)(e,2),i=n[0],a=n[1],o=Object(c.useState)(""),r=Object(O.a)(o,2),d=r[0],l=r[1],j=Object(s.c)();return Object(c.useEffect)((function(){u.a.get("https://43.200.85.188:8080/list").then((function(t){console.log(t.status);var e=t.data;j({type:"getList",payload:e})}))}),[]),Object(S.jsxs)("div",{className:"app",style:{whiteSpace:"nowrap"},children:[Object(S.jsx)("header",{}),Object(S.jsxs)("div",{className:"contents",children:[Object(S.jsx)(H.a,{onDragEnd:function(e){if(!e.destination)return!1;var n=0;if(console.log(e),e.destination.index===t.length-1)n=t[e.destination.index].workListOrd+1e3;else if(0===e.destination.index)n=Math.floor(t[0].workListOrd/2);else if(e.source.index<e.destination.index)n=Math.floor((t[e.destination.index].workListOrd+t[e.destination.index+1].workListOrd)/2);else{if(!(e.source.index>e.destination.index))return!1;n=Math.floor((t[e.destination.index-1].workListOrd+t[e.destination.index].workListOrd)/2)}u.a.put("https://43.200.85.188:8080/list/move/"+t[e.source.index].workListId,n,{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status?j({type:"dragList",payload:[e.source.index,n]}):console.log(t.status)})).catch((function(t){console.log("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.",t.response)}))},children:Object(S.jsx)(H.c,{droppableId:"contents-list",direction:"horizontal",children:function(e){return Object(S.jsxs)("div",Object(b.a)(Object(b.a)({className:"contents-list"},e.droppableProps),{},{ref:e.innerRef,children:[t.map((function(e,n){return Object(S.jsx)(H.b,{draggableId:"list"+n,index:n,children:function(e,c){return Object(S.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({className:"drag-item",ref:e.innerRef},e.dragHandleProps),e.draggableProps),{},{style:(i=c.isDragging,a=e.draggableProps.style,Object(b.a)({verticalAlign:"top",background:i?"blue":"none",borderRadius:3},a)),children:Object(S.jsx)(H.a,{children:Object(S.jsx)(H.c,{droppableId:"contents-card",children:function(e){return Object(S.jsxs)("div",Object(b.a)(Object(b.a)({className:"contents-card"},e.droppableProps),{},{ref:e.innerRef,children:[Object(S.jsx)(z,{reducerData:t[n],index:n,totalList:t}),e.placeholder]}))}})})}));var i,a}},n)})),e.placeholder]}))}})}),!1===i?Object(S.jsx)("div",{className:"addList",onClick:function(){a(!0)},children:"+ Add another list"}):Object(S.jsxs)("div",{className:"addListInput",children:[Object(S.jsx)("input",{type:"text",onChange:function(t){return l(t.target.value)},placeholder:"Enter list title..."}),Object(S.jsx)("button",{onClick:function(){if(""===d)return!1;u.a.post("https://43.200.85.188:8080/list",{workListTitle:encodeURIComponent(d)},{headers:{"Content-Type":"application/json"}}).then((function(t){200===t.status&&j({type:"addList",payload:t.data})})),a(!1),l(""),setTimeout((function(){window.scrollTo(5e4,0)}),0)},children:"Add list"}),Object(S.jsx)("button",{onClick:function(){a(!1),l("")},children:"Close"})]})]})]})},Q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),i(t),a(t),o(t)}))},W=n(123),q=new h.QueryClient({defaultOptions:{queries:{refetchInterval:3e3}}}),G=Object(r.e)(p);o.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsxs)(h.QueryClientProvider,{client:q,children:[Object(S.jsx)(W.ReactQueryDevtools,{initialIsOpen:!0}),Object(S.jsx)(s.a,{store:G,children:Object(S.jsx)(J,{})})]})}),document.getElementById("root")),Q()}},[[177,1,2]]]);
//# sourceMappingURL=main.f1f88559.chunk.js.map